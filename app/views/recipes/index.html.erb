<h1>Listing recipes</h1>
 <%= form_tag(recipes_path, :method => "get", id: "search-form") do %>
  <table>
 	<tr>
 		<td>
 			Filter by Name:
 		</td>
		<td>
 			<%= text_field_tag :search_by_name, params[:search_by_name], placeholder: "Search Recipes by Name" %>
		</td>
		<td>
			<%= submit_tag "Search", :name => nil %>
		</td>
 	</tr>
 	<tr>
 		<td>
 			Filter by Ingredient:
 		</td>
		<td>
			<%= text_field_tag :search_by_ingredient, 
								params[:search_by_ingredient], 
								placeholder: "Search Recipes by Ingredient" %>
		</td>
		<td>
			<%= submit_tag "Search", :name => nil %>
		</td>
 	</tr>
 	<tr>
 		<td align='right'>Or Exact:</td>
 		<td align='right'>
		<%= select_tag(:search_by_ingredient_id, 
							options_from_collection_for_select(
								Ingredient.order("name"), 
								:id, :name, @search_ingredient.id),
							:prompt => '<Select an Ingredient>'
							) %>
		</td>
		<td>
			<%= submit_tag "Search", :name => nil %>
		</td>
 	</tr>
 </table>
<%end%>
 
 <%= link_to 'Clear Filters', recipes_path %>
 
  <p>
 <%= link_to 'Add recipe', new_recipe_path %>
 </p>


<table class='gridtable'>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th># Ingredients</th>
    <th># Instructions</th>
  </tr>
 
  <% @recipes.each do |recipe| %>
    <tr>
      <td><%= link_to recipe.name, recipe_path(recipe) %></td>
      <td><%= recipe.description %></td>
      <td><%= recipe.ingredients.size %></td>
      <td><%= recipe.instructions.size %></td>
      <td><%= link_to 'Edit', edit_recipe_path(recipe) %></td>
      <td><%= link_to 'Delete', recipe_path(recipe),
                    method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>